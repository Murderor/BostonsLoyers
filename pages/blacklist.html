<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∞–¥–≤–æ–∫–∞—Ç—É—Ä—ã | Majestic RP | Boston</title>
    <link rel="stylesheet" href="../css/style.css">  <!-- –ø–æ–¥–∫–ª—é—á–∏ —Å–≤–æ–π —Å—Ç–∏–ª—å -->
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
    <style>
        /* –î–æ–ø —Å—Ç–∏–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã */
        .blacklist-container {
    margin: 40px 0;
    padding: 0 15px;            /* –º–∞–ª–µ–Ω—å–∫–∏–µ –æ—Ç—Å—Ç—É–ø—ã –ø–æ –±–æ–∫–∞–º */
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}
        .blacklist-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--color-gray);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }
        .blacklist-table th,
        .blacklist-table td {
            padding: 14px 16px;
            text-align: left;
            border-bottom: 1px solid var(--color-gray-light);
        }
        .blacklist-table th {
            background: var(--color-primary);
            color: var(--color-accent);
            font-weight: 700;
        }
        .blacklist-table tr:hover {
            background: rgba(212, 175, 55, 0.08);
        }
        .status-active {
            color: #ff4444;
            font-weight: bold;
        }
        .status-expired {
            color: #44ff44;
        }
        .proof-link {
            color: var(--color-accent);
            text-decoration: none;
        }
        .proof-link:hover {
            text-decoration: underline;
        }
        .loading {
            text-align: center;
            font-size: 1.4rem;
            color: var(--color-accent);
            padding: 60px 0;
        }
        .error {
            color: #ff6b6b;
            text-align: center;
            padding: 40px;
        }
    </style>
</head>
<body>

    <!-- –¢–≤–æ–π —Ö–µ–¥–µ—Ä –∫–∞–∫ –Ω–∞ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö -->
    <header class="header">
        <div class="container header-container">
            <!-- –õ–æ–≥–æ—Ç–∏–ø -->
            <div class="logo">
                <div class="logo-image">
                    <img src="../assets/logo.png" alt="–õ–æ–≥–æ—Ç–∏–ø –∞–¥–≤–æ–∫–∞—Ç—Å–∫–æ–≥–æ –±—é—Ä–æ" id="main-logo">
                    <div class="logo-placeholder" id="logo-placeholder">AB</div>
                </div>
                <div class="logo-text">
                    <h1 class="logo-title">–ö–æ–ª–ª–µ–≥–∏—è –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∞–¥–≤–æ–∫–∞—Ç–æ–≤</h1>
                    <p class="logo-subtitle">Majestic RP | Boston</p>
                </div>
            </div>

            <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è - —Ç–æ–ª—å–∫–æ –∫–Ω–æ–ø–∫–∏ -->
            <nav class="main-nav">
                <ul class="nav-list">
                    <li><a href="../index.html" class="nav-button active">–ì–ª–∞–≤–Ω–∞—è</a></li>
                    <li><a href="../pages/about.html" class="nav-button">–û –Ω–∞—Å</a></li>
                    <li><a href="../pages/appeal.html" class="nav-button">–û–±—Ä–∞—â–µ–Ω–∏–µ</a></li>
                    <li><a href="../pages/law.html" class="nav-button">–ó–∞–∫–æ–Ω—ã</a></li>
                    <li><a href="../pages/blacklist.html" class="nav-button">–ß–° –∞–¥–≤–æ–∫–∞—Ç—É—Ä—ã</a></li>
                </ul>
            </nav>

            <!-- –ú–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é -->
            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div> <!-- ... –∫–æ–ø–∏–ø–∞—Å—Ç—å –∏–∑ index.html ... -->
    </header>

    <main class="main">
        <div class="container blacklist-container">
            <h2 class="section-title">–ß—ë—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∞–¥–≤–æ–∫–∞—Ç—É—Ä—ã</h2>
            <p style="text-align:center; color:#a0a8c0; margin-bottom:40px;">
                –ê–¥–≤–æ–∫–∞—Ç—ã –∏ –ø–æ–º–æ—â–Ω–∏–∫–∏, –ª–∏—à—ë–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –ø—Ä–∞–∫—Ç–∏–∫–∏ –≤ –∫–æ–ª–ª–µ–≥–∏–∏.<br>
            </p>

            <div id="blacklistTableContainer">
                <div class="loading">–ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫... ‚öñÔ∏èüíÄ</div>
            </div>
        </div>
    </main>

    <!-- –¢–≤–æ–π —Ñ—É—Ç–µ—Ä -->
    <footer class="footer">
        <!-- ... -->
    </footer>

    <script>
        const API_URL = "https://script.google.com/macros/s/AKfycbw8QL-olXfZjthkjI5UwcP22hCj5PcK7BtxMKCfoNt0k9OMHCSeU1c5p9yDhkSId3rg/exec";  // ‚Üê –í–°–¢–ê–í–¨ –°–í–û–ô URL –°–Æ–î–ê

        async function loadBlacklist() {
            try {
                const response = await fetch(API_URL);
                if (!response.ok) throw new Error('–°–µ—Ä–≤–µ—Ä –Ω–µ –æ–≤—Ç–µ—á–∞–µ—Ç');
                
                const result = await response.json();
                if (!result.success) throw new Error('–í –ø–ª–æ—Ö–æ–π —Ñ–æ—Ä–º–µ');

                const data = result.data;
                if (data.length === 0) {
                    document.getElementById('blacklistTableContainer').innerHTML = 
                        '<div class="error">–°–ø–∏—Å–æ–∫ –ø—É—Å—Ç.</div>';
                    return;
                }

                let html = `
                    <table class="blacklist-table">
                        <thead>
                            <tr>
                                <th>–ì—Ä–∞–∂–¥–∞–Ω–∏–Ω:</th>
                                <th>–ö—Ç–æ –≤–Ω—ë—Å:</th>
                                <th>–ü—Ä–∏—á–∏–Ω–∞:</th>    
                                <th>–°—Ä–æ–∫:</th>
                                <th>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Å–Ω—è—Ç–∏—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π:</th>
                                <th>–î–∞—Ç–∞ –≤–Ω–µ—Å–µ–Ω–∏—è:</th>
                                <th>–î–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                `;

                data.forEach(row => {
                    const proof = row["–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (—Å—Å—ã–ª–∫–∞)"] 
                        ? `<a href="${row["–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (—Å—Å—ã–ª–∫–∞)"]}" target="_blank" class="proof-link">–°–º–æ—Ç—Ä–µ—Ç—å</a>` 
                        : "‚Äî";

                    const statusClass = row["–°—Ç–∞—Ç—É—Å"]?.toLowerCase().includes("–∞–∫—Ç–∏–≤") 
                        ? "status-active" : "status-expired";

                    html += `
                        <tr>
                            <td>${row["–ò–º—è –∏ —Å—Ç–∞—Ç–∏–∫ –≤–Ω–æ—Å–∏–º–æ–≥–æ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞:"] || "‚Äî"}</td>
                            <td>${row["–í–∞—à–µ –∏–º—è –∏ —Å—Ç–∞—Ç–∏–∫:"] || "‚Äî"}</td>
                            <td>${row["–ü—Ä–∏—á–∏–Ω–∞ –≤–Ω–µ—Å–µ–Ω–∏—è –≤ –ß–°:"] || "‚Äî"}</td>
                            <td>${row["–°—Ä–æ–∫:"] || "‚Äî"}</td>
                            <td>${row["–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Å—Ä–æ—á–Ω–æ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –Ω–∞–∫–∞–∑–∞–Ω–∏–µ:"] || "‚Äî"}</td>
                            <td>${row["–û—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏"] || "‚Äî"}</td>
                            <td>${row["–î–µ–π—Å—Ç–≤–∏–µ –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏—è"] || "‚Äî"}</td>
                        </tr>
                    `;
                });

                html += `</tbody></table>`;
                document.getElementById('blacklistTableContainer').innerHTML = html;

            } catch (err) {
                console.error(err);
                document.getElementById('blacklistTableContainer').innerHTML = 
                    `<div class="error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${err.message}<br>–ü—Ä–æ–≤–µ—Ä—å URL –∏–ª–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</div>`;
            }
        }

        window.addEventListener('DOMContentLoaded', loadBlacklist);
    </script>

    <script src="../js/script.js"></script>  <!-- —Ç–≤–æ–π –æ–±—â–∏–π —Å–∫—Ä–∏–ø—Ç -->
</body>
</html>